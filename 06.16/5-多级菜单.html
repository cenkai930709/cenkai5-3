<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			ul{
				list-style: none;
			}
			#list ul{
				display: none;
			}
            h2{
                font-size: 22px;
            }
		</style>
	</head>
	<body>
		<ul id="list">
			<!--<li>
				<h2>第一级</h2>
				<ul>
					<li>
						<h2>第二级</h2>
					</li>
					<li>
						<h2>第二级</h2>
						<ul>
							<li></li>
						</ul>
					</li>
				</ul>
			</li>
			<li>
				<h2>第一级</h2>
			</li>
			<li>
				<h2>第一级</h2>
				<ul>1</ul>
			</li>-->
		</ul>
		<script>
			var data = [
				{
					name:'第一级',
					child:[
						{
							name:'第二级',
							child:[
								{
									name:'第三级',
									child:[
										{
											name:'第四级',
											child:[]
										},
										{
											name:'第四级',
											child:[]
										}
									]
								},
								{
									name:'第三级',
									child:[]
								},
								{
									name:'第三级',
									child:[
										{
											name:'第四级',
											child:[]
										},
										{
											name:'第四级',
											child:[]
										}
									]
								}
							]
						},
						{
							name:'第二级',
							child:[
								{
									name:'第三级',
									child:[]
								},
								{
									name:'第三级',
									child:[]
								}
							]
						},
						{
							name:'第二级',
							child:[]
						}
					]
				},
				{
					name:'第一级',
					child:[
						{
							name:'第二级',
							child:[
								{
									name:'第三级',
									child:[]
								},
								{
									name:'第三级',
									child:[]
								},
								{
									name:'第三级',
									child:[]
								}
							]
						},
						{
							name:'第二级',
							child:[
								{
									name:'第三级',
									child:[]
								},
								{
									name:'第三级',
									child:[]
								}
							]
						},
						{
							name:'第二级',
							child:[]
						}
					]
				},
				{
					name:'第一级',
					child:[
						{
							name:'第二级',
							child:[
								{
									name:'第三级',
									child:[]
								},
								{
									name:'第三级',
									child:[]
								},
								{
									name:'第三级',
									child:[]
								}
							]
						},
						{
							name:'第二级',
							child:[
								{
									name:'第三级',
									child:[]
								},
								{
									name:'第三级',
									child:[]
								}
							]
						},
						{
							name:'第二级',
							child:[]
						}
					]
				}
			];
			
			var list = document.getElementById('list');
            function fn(arr){
                var str='';
                str=fn1(arr);
                function fn1(arr){
                    var str1='';
                    arr.forEach(function(a){
                        if(a.child.length==null){
                            str1+='<li><h2>'+a.name+'</h2>></li>';
                        }else{
                            str1+='<li><h2>'+a.name+'</h2><ul>'+fn1(a.child)+'</ul></li>';
                        }
                    });
                    return str1;

                }
                 return str;
            }
            list.innerHTML= fn(data);
            //点击缩放
            var hs = document.getElementsByTagName('h2');
            console.log(hs);
            for(var i=0;i<hs.length;i++){
                if (hs[i].nextElementSibling){
                    hs[i].on=true;
                    hs[i].onclick=function(){
                        if(this.on){
                                this.nextElementSibling.style.display = 'block';
                        }else{
                                this.nextElementSibling.style.display='none';
                        }
                        this.on=!this.on;
                    }
                }

            }
		</script>
	</body>
</html>
