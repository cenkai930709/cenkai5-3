<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			
			ul , p { width:300px; padding:0; margin:0; margin:0 auto; }
			ul{
				margin: 100px auto 0;
			}
			p { padding-top:20px; }
			li { list-style:none; border-bottom:1px solid #333; height:30px; line-height:30px; }
			
			.hover{
				background-color: blue;
				color: #fff;
			}
			.checked{
				background-color: green;
			}
			.red{
				background-color: red;
			}
			.pink{
				background-color: pink;
			}


		</style>
	</head>
	<body>
		<ul>
			<li><input type="checkbox"/>信乐团-海阔天空</li>
			<li><input type="checkbox"/>五月天-倔强</li>
			<li><input type="checkbox"/>薛之谦-演员</li>
			<li><input type="checkbox"/>杨宗纬-一次就好</li>
			<li><input type="checkbox"/>周杰伦-安静</li>
		</ul>
		<p><input type="checkbox" id="qx" />全选</p>
		<p><input type="checkbox" id="fx" />反选</p>
		<script type="text/javascript">
			var ul=document.getElementsByTagName('ul')[0];
			var lis=ul.getElementsByTagName('li');
			var inps=ul.getElementsByTagName('input');
			var ap=document.getElementById('qx');
			var fp=document.getElementById('fx');
			//初始化li隔行变色
			for(var i=0;i<lis.length;i++){
				if(i%2){
					lis[i].className='red';
				}else{
					lis[i].className='pink';
					
				}
				lis[i].index=i;
				lis[i].check=false;
				lis[i].color=lis[i].className;
				//鼠标移入
				lis[i].onmouseover=function(){
					if(!this.check){
						this.className='hover';
					}
					
				}
				//鼠标移出
				lis[i].onmouseout=function(){
					if(!this.check){
						this.className=this.color;
					}
				}
				lis[i].onclick=function(){
					if(this.check){
						this.check=false;
						inps[this.index].checked=false;
						this.className=this.color;
					}else{
						this.check=true;
						inps[this.index].checked=true;
						this.className='checked';
					}
					fuyong();
				}
				
			}
			//全选点击事件
			ap.onclick=function(){
				if(this.checked){
					for(var i=0;i<inps.length;i++){
						inps[i].checked=true;
						lis[i].check=true;
						lis[i].className='checked';
					}
				}else{
					for(var i=0;i<inps.length;i++){
						inps[i].checked=false;
						lis[i].check=false;
						lis[i].className=lis[i].color;
					}
				}
			}
			//反选
			fp.onclick=function(){
				for(var i=0;i<lis.length;i++){
					if(lis[i].check){
						lis[i].check=false;
						inps[i].checked=false;
						lis[i].className=lis[i].color;
						fp.checked=false;
					}else{
						lis[i].check=true;
						inps[i].checked=true;
						lis[i].className='checked';
						fp.checked=true;
						
					}
					
				}
				fuyong();
			}
			function fuyong(){
				var  m=0;
				for(var i=0;i<inps.length;i++){
					if(inps[i].checked){
						m++;
					}
				}
				if(m==inps.length){
					ap.checked=true;
				}else{
					ap.checked=false;
				}
			}
			
		</script>
	</body>
</html>
